{"ast":null,"code":"var _jsxFileName = \"/Users/christophecaillet/Dev_local/React/grandcompte/leospa-main/src/Components/Navbar.js\";\nimport React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { auth, logInWithEmailAndPassword } from \"../firebase\";\nimport { getDatabase, ref, onValue } from \"firebase/database\";\n\nclass Navbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      menuOpen: false,\n      admin: null\n    };\n\n    this.menuToggleHandler = () => {\n      this.setState(prevState => {\n        return {\n          menuOpen: !prevState.menuOpen\n        };\n      });\n    };\n\n    this.clearStateHandler = () => {\n      if (this.state.menuOpen) {\n        this.setState({\n          menuOpen: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(function (user) {\n      //this.setState(user);\n      const uid = user.uid;\n      const db = getDatabase();\n      const usersRef = ref(db, \"users/\" + uid);\n      onValue(usersRef, snapshot => {\n        const data = snapshot.val();\n        console.log(\"data\", data);\n\n        if (data && data.type && (data.type == \"admin\" || data.type == \"commercial\")) {\n          console.log(\"admin\");\n        } else {\n          history.push(\"/forbidden\");\n        }\n      });\n    });\n  } // isHome =\n  // absHeader = ( this.props.location.pathname === \"/\") ? ' abs-header' : '';\n  // right = ( this.props.location.pathname === '/') ? '' : ' text-right';\n\n\n  render() {\n    let absHeader = this.props.location.pathname === \"/\" ? \" abs-header\" : \"\";\n    let right = this.props.location.pathname === \"/\" ? \"\" : \" text-right\";\n    return (// Header start\n      React.createElement(\"header\", {\n        className: \"header\" + absHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row align-items-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/\",\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require(\"../assets/images/logo.png\"),\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-md-9\" + right,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"primary-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"mobile-menu\",\n        onClick: this.menuToggleHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ti-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), false && React.createElement(\"ul\", {\n        className: this.state.menuOpen ? \"active\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/prospect\",\n        onClick: this.clearStateHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"proposition en cours\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/gestion\",\n        onClick: this.clearStateHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"MES COMPTES UNEXTRA\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/achat\",\n        onClick: this.clearStateHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"ACHAT DE COMPTES\")))))))) // Header start\n\n    );\n  }\n\n}\n\nexport default withRouter(Navbar);","map":{"version":3,"sources":["/Users/christophecaillet/Dev_local/React/grandcompte/leospa-main/src/Components/Navbar.js"],"names":["React","Component","NavLink","withRouter","auth","logInWithEmailAndPassword","getDatabase","ref","onValue","Navbar","state","menuOpen","admin","menuToggleHandler","setState","prevState","clearStateHandler","componentDidMount","onAuthStateChanged","user","uid","db","usersRef","snapshot","data","val","console","log","type","history","push","render","absHeader","props","location","pathname","right","require"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { auth, logInWithEmailAndPassword } from \"../firebase\";\r\nimport { getDatabase, ref, onValue } from \"firebase/database\";\r\n\r\nclass Navbar extends Component {\r\n  state = {\r\n    menuOpen: false,\r\n    admin: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    auth.onAuthStateChanged(function (user) {\r\n      //this.setState(user);\r\n      const uid = user.uid;\r\n      const db = getDatabase();\r\n      const usersRef = ref(db, \"users/\" + uid);\r\n      onValue(usersRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        console.log(\"data\", data);\r\n        if (\r\n          data &&\r\n          data.type &&\r\n          (data.type == \"admin\" || data.type == \"commercial\")\r\n        ) {\r\n          console.log(\"admin\");\r\n        } else {\r\n          history.push(\"/forbidden\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // isHome =\r\n  // absHeader = ( this.props.location.pathname === \"/\") ? ' abs-header' : '';\r\n  // right = ( this.props.location.pathname === '/') ? '' : ' text-right';\r\n\r\n  menuToggleHandler = () => {\r\n    this.setState((prevState) => {\r\n      return { menuOpen: !prevState.menuOpen };\r\n    });\r\n  };\r\n\r\n  // componentWillUnmount() {\r\n  //     this.clearStateHandler()\r\n  // }\r\n\r\n  clearStateHandler = () => {\r\n    if (this.state.menuOpen) {\r\n      this.setState({\r\n        menuOpen: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let absHeader = this.props.location.pathname === \"/\" ? \" abs-header\" : \"\";\r\n    let right = this.props.location.pathname === \"/\" ? \"\" : \" text-right\";\r\n\r\n    return (\r\n      // Header start\r\n      <header className={\"header\" + absHeader}>\r\n        <div className=\"container\">\r\n          <div className=\"row align-items-end\">\r\n            <div className=\"col-md-3\">\r\n              <NavLink to=\"/\" className=\"logo\">\r\n                <img src={require(\"../assets/images/logo.png\")} alt=\"\" />\r\n              </NavLink>\r\n            </div>\r\n            <div className={\"col-md-9\" + right}>\r\n              <nav className=\"primary-menu\">\r\n                <button\r\n                  className=\"mobile-menu\"\r\n                  onClick={this.menuToggleHandler}\r\n                >\r\n                  <i className=\"ti-menu\"></i>\r\n                </button>\r\n                {false && (\r\n                  <ul className={this.state.menuOpen ? \"active\" : \"\"}>\r\n                    {/*<li>\r\n                    <NavLink to=\"/\" onClick={this.clearStateHandler}>\r\n                      ACCUEIL\r\n                    </NavLink>\r\n                 </li>*/}\r\n                    <li>\r\n                      <NavLink to=\"/prospect\" onClick={this.clearStateHandler}>\r\n                        proposition en cours\r\n                      </NavLink>\r\n                    </li>\r\n                    <li>\r\n                      <NavLink to=\"/gestion\" onClick={this.clearStateHandler}>\r\n                        MES COMPTES UNEXTRA\r\n                      </NavLink>\r\n                    </li>\r\n                    <li>\r\n                      <NavLink to=\"/achat\" onClick={this.clearStateHandler}>\r\n                        ACHAT DE COMPTES\r\n                      </NavLink>\r\n                    </li>\r\n                  </ul>\r\n                )}\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      // Header start\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Navbar);\r\n"]},"metadata":{},"sourceType":"module"}