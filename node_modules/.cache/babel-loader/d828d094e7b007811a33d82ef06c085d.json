{"ast":null,"code":"import _slicedToArray from \"/Users/christophecaillet/Dev_local/React/grandcompte/leospa-main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/christophecaillet/Dev_local/React/grandcompte/leospa-main/src/Sections/Appointment.js\";\nimport React, { useRef, useState } from \"react\";\nimport emailjs from \"@emailjs/browser\";\nimport { getDatabase, ref, set } from \"firebase/database\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { toast } from \"react-toastify\";\n\nconst Appointment = () => {\n  const _useState = useState(uuidv4()),\n        _useState2 = _slicedToArray(_useState, 2),\n        code = _useState2[0],\n        setCode = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        name = _useState4[0],\n        setName = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        email = _useState6[0],\n        setEmail = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        accountNumber = _useState8[0],\n        setAccountNumber = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        reduction = _useState10[0],\n        setReduction = _useState10[1];\n\n  const form = useRef();\n\n  const sendEmail = e => {\n    e.preventDefault();\n\n    if (accountNumber == 0) {\n      toast.warn(\"Le nombre de compte ne peut pas être égal à 0 !\", {\n        position: toast.POSITION.TOP_CENTER\n      });\n    } else if (reduction == \"\") {} else {\n      emailjs.sendForm(\"service_281tpu8\", \"template_s7l53t7\", e.target, \"user_cs48fHhUC3ofs28N0k1oK\").then(result => {\n        const db = getDatabase();\n        set(ref(db, \"prospectEmail/\" + code), {\n          email,\n          reduction,\n          accountNumber\n        });\n        toast.success(\"Proposition bien transmise !\", {\n          position: toast.POSITION.TOP_CENTER\n        });\n        setAccountNumber(0);\n        setEmail(\"\");\n        setReduction(\"\");\n        setCode(uuidv4());\n        setName(\"\");\n      }, error => {\n        console.log(error.text);\n      });\n    }\n  };\n\n  return React.createElement(\"section\", {\n    className: \"appointment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"appointment-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"figure\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: require(\"../assets/images/resto.jpg\"),\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"appointment-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    ref: form,\n    onSubmit: sendEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-field half-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"hidden\",\n    placeholder: \"code\",\n    required: true,\n    value: code,\n    id: \"code\",\n    name: \"code\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"NOM\",\n    required: true,\n    onChange: e => setName(e.target.value),\n    value: name,\n    id: \"name\",\n    name: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Adresse Email\",\n    required: true,\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    id: \"email\",\n    name: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-field half-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"select-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"NOMBRE DE COMPTE\",\n    required: true,\n    value: accountNumber,\n    onChange: e => setAccountNumber(e.target.value),\n    id: \"accountNumber\",\n    name: \"accountNumber\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-field half-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"select-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"reduction\",\n    name: \"reduction\",\n    value: reduction,\n    onChange: e => setReduction(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Selectionner le %age de r\\xE9duction\"), React.createElement(\"option\", {\n    value: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"0%\"), React.createElement(\"option\", {\n    value: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"10%\"), React.createElement(\"option\", {\n    value: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"20%\"), React.createElement(\"option\", {\n    value: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"30%\"), React.createElement(\"option\", {\n    value: 40,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"40%\"), React.createElement(\"option\", {\n    value: 50,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"50%\"), React.createElement(\"option\", {\n    value: 60,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"60%\"), React.createElement(\"option\", {\n    value: 70,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"70%\"), React.createElement(\"option\", {\n    value: 80,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"80%\"), React.createElement(\"option\", {\n    value: 90,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"90%\"), React.createElement(\"option\", {\n    value: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"100%\")))), React.createElement(\"input\", {\n    className: \"btn btn-round\",\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    value: \"Envoyer la proposition\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  })))));\n};\n\nexport default Appointment;","map":{"version":3,"sources":["/Users/christophecaillet/Dev_local/React/grandcompte/leospa-main/src/Sections/Appointment.js"],"names":["React","useRef","useState","emailjs","getDatabase","ref","set","v4","uuidv4","toast","Appointment","code","setCode","name","setName","email","setEmail","accountNumber","setAccountNumber","reduction","setReduction","form","sendEmail","e","preventDefault","warn","position","POSITION","TOP_CENTER","sendForm","target","then","result","db","success","error","console","log","text","require","value"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport emailjs from \"@emailjs/browser\";\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Appointment = () => {\r\n  const [code, setCode] = useState(uuidv4());\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [accountNumber, setAccountNumber] = useState(\"\");\r\n  const [reduction, setReduction] = useState(\"\");\r\n  const form = useRef();\r\n\r\n  const sendEmail = (e) => {\r\n    e.preventDefault();\r\n    if (accountNumber == 0) {\r\n      toast.warn(\"Le nombre de compte ne peut pas être égal à 0 !\", {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n    } else if (reduction == \"\") {\r\n    } else {\r\n      emailjs\r\n        .sendForm(\r\n          \"service_281tpu8\",\r\n          \"template_s7l53t7\",\r\n          e.target,\r\n          \"user_cs48fHhUC3ofs28N0k1oK\"\r\n        )\r\n        .then(\r\n          (result) => {\r\n            const db = getDatabase();\r\n            set(ref(db, \"prospectEmail/\" + code), {\r\n              email,\r\n              reduction,\r\n              accountNumber,\r\n            });\r\n            toast.success(\"Proposition bien transmise !\", {\r\n              position: toast.POSITION.TOP_CENTER,\r\n            });\r\n            setAccountNumber(0);\r\n            setEmail(\"\");\r\n            setReduction(\"\");\r\n            setCode(uuidv4());\r\n            setName(\"\");\r\n          },\r\n          (error) => {\r\n            console.log(error.text);\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"appointment\">\r\n      <div className=\"appointment-wrap\">\r\n        <figure>\r\n          <img src={require(\"../assets/images/resto.jpg\")} alt=\"\" />\r\n        </figure>\r\n        <div className=\"appointment-form\">\r\n          <form ref={form} onSubmit={sendEmail}>\r\n            <div className=\"form-field half-width\">\r\n              <input\r\n                type=\"hidden\"\r\n                placeholder=\"code\"\r\n                required\r\n                value={code}\r\n                id=\"code\"\r\n                name=\"code\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"NOM\"\r\n                required\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n                id=\"name\"\r\n                name=\"name\"\r\n              />\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Adresse Email\"\r\n                required\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                id=\"email\"\r\n                name=\"email\"\r\n              />\r\n            </div>\r\n            <div className=\"form-field half-width\">\r\n              <div className=\"select-field\">\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"NOMBRE DE COMPTE\"\r\n                  required\r\n                  value={accountNumber}\r\n                  onChange={(e) => setAccountNumber(e.target.value)}\r\n                  id=\"accountNumber\"\r\n                  name=\"accountNumber\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-field half-width\">\r\n              <div className=\"select-field\">\r\n                <select\r\n                  id=\"reduction\"\r\n                  name=\"reduction\"\r\n                  value={reduction}\r\n                  onChange={(e) => setReduction(e.target.value)}\r\n                >\r\n                  <option>Selectionner le %age de réduction</option>\r\n                  <option value={0}>0%</option>\r\n                  <option value={10}>10%</option>\r\n                  <option value={20}>20%</option>\r\n                  <option value={30}>30%</option>\r\n                  <option value={40}>40%</option>\r\n                  <option value={50}>50%</option>\r\n                  <option value={60}>60%</option>\r\n                  <option value={70}>70%</option>\r\n                  <option value={80}>80%</option>\r\n                  <option value={90}>90%</option>\r\n                  <option value={100}>100%</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <input\r\n              className=\"btn btn-round\"\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              value=\"Envoyer la proposition\"\r\n            />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Appointment;\r\n"]},"metadata":{},"sourceType":"module"}